<!-- <div id="sideNavTree" class="collapse rounded-right" [class.show]="!isNoInitiatives" [class.showTree]="!isBuildingPanelCollapsed">
    <a class="btn toggle" (click)="toggleBuildingPanel()" [class.showTree]="!isBuildingPanelCollapsed">
        <i class="fa all text-white" [class.fa-list]="isBuildingPanelCollapsed" aria-hidden="true"></i>
        <i class="fa text-dark" [class.fa-times]="!isBuildingPanelCollapsed" aria-hidden="true"></i>
    </a>

    <div id="edit-panel-tree" class="mt-3 ml-1 mr-3 row" [class.showTree]="!isBuildingPanelCollapsed">
        <div class="building">
            <building #building [user]="user" (save)="saveChanges($event)" (openDetails)="openDetails($event)" (openDetailsEditOnly)="openDetails($event,true)">Loading...</building>
        </div>
    </div>
</div>

<div id="sideNavDetails" [class.show]="!isNoInitiatives" class="collapse rounded-right" [class.showDetails]="!isDetailsPanelCollapsed" [class.showTree]="!isBuildingPanelCollapsed">
    <a class="btn toggle" (click)="toggleDetailsPanel()" [class.showDetails]="!isDetailsPanelCollapsed">
        <i class="fa text-dark" [class.fa-times]="!isDetailsPanelCollapsed" aria-hidden="true"></i>
    </a>

    <div id="edit-panel-details" class=" ml-1 showDetails" [class.showDetails]="!isDetailsPanelCollapsed">
        <div class="details" *ngIf="!isDetailsPanelCollapsed">
            <initiative *ngIf="!isDetailsPanelCollapsed" #initiative [datasetTags]="tags" [datasetId]="datasetId" [node]="openedNode" [team]="team"
                 (edited)="saveDetailChanges()"></initiative>

        </div>
    </div>
</div>




<div id="main" tabindex="1"  [class.expand]="!isBuildingPanelCollapsed"
(focus)="isBuildingPanelCollapsed=true; isDetailsPanelCollapsed=true;">
    <div  class="mapping" >
        <mapping [tags]="selectableTags" (showDetails)="openDetails($event, true)" (addInitiative)="addInitiative($event)" (removeInitiative)="removeInitiative($event)"
            (moveInitiative)="moveInitiative($event)" (closeEditingPanel)="closeEditingPanel()" (openTreePanel)="isBuildingPanelCollapsed=false" (applySettings)="applySettings($event)"
            (expandTree)="buildingComponent.toggleAll(true)"
            
            >
        Loading...</mapping>
    </div>
</div> -->

<div class="d-flex justify-content-start">
    <div class="sidenav d-flex justify-content-start">
        <div id="sidenav-hierarchy" class="hierarchy position-relative" [class.opened]="!isBuildingPanelCollapsed" [class.closed]="isBuildingPanelCollapsed">
            <div class="card border-0">
                <a class="d-flex justify-content-end px-3" [class.invisible]="isBuildingPanelCollapsed" (click)="isBuildingPanelCollapsed=true">
                    <i class="fa fa-times text-muted" aria-hidden="true"></i>
                </a>
                <div class="card-body" [class.invisible]="isBuildingPanelCollapsed">
                    <building #building [user]="user" (save)="saveChanges($event)" (openDetails)="openDetails($event)" (openDetailsEditOnly)="openDetails($event,true)">Loading...</building>

                </div>
            </div>

        </div>
        <div id="sidenav-details" class="details position-relative" [class.opened]="!isDetailsPanelCollapsed" [class.closed]="isDetailsPanelCollapsed">
            <div class="card border-0">
                <a class="d-flex justify-content-end px-3" [class.invisible]="isDetailsPanelCollapsed" (click)="isDetailsPanelCollapsed=true">
                    <i class="fa fa-times text-muted" aria-hidden="true"></i>
                </a>
                <div class="card-body" [class.invisible]="isDetailsPanelCollapsed">
                    <initiative *ngIf="!isDetailsPanelCollapsed" #initiative [datasetTags]="tags" [datasetId]="datasetId" [node]="openedNode"
                        [team]="team" (edited)="saveDetailChanges()"></initiative>
                </div>
            </div>

        </div>
    </div>

    <!-- Use any element to open the sidenav -->
    <div class="open-nav d-flex flex-column justify-content-center align-items-center cursor-pointer" (click)="isBuildingPanelCollapsed=false">
        <span>
            <i class="fa fa-ellipsis-v" aria-hidden="true"></i>
        </span>
    </div>

    <!-- Add all page content inside this div if you want the side nav to push page content to the right (not used if you only want the sidenav to sit on top of the page -->
    <div id="main" class="d-flex justify-content-center w-100" [class.half-push]="isBuildingPanelCollapsed !== isDetailsPanelCollapsed"
        [class.full-push]="!isDetailsPanelCollapsed && !isBuildingPanelCollapsed">
        <mapping [tags]="selectableTags" (showDetails)="openDetails($event, true)" (addInitiative)="addInitiative($event)" (removeInitiative)="removeInitiative($event)"
            (moveInitiative)="moveInitiative($event)" (closeEditingPanel)="closeEditingPanel()" (openTreePanel)="isBuildingPanelCollapsed=false"
            (applySettings)="applySettings($event)" (expandTree)="buildingComponent.toggleAll(true)">
            Loading...</mapping>
    </div>
</div>