<div class="building">
	<!--<a id="saveButton" class="btn btn-link" (click)="saveChanges()" type="button"><i class="fa fa-floppy-o" aria-hidden="true"></i></a>-->
	<div class="form-group">
		<input id="searchTreeInput" type="text" class="form-control" placeholder="Search map by name or description" (input)="filterNodes($event.target.value)"
		/>
	</div>
	<Tree [nodes]="nodes" (onUpdateData)="mapData($event)" [options]="options">
		<ng-template #loadingTemplate>
			<div class="loading"></div>
		</ng-template>
		<ng-template #treeNodeTemplate let-node>
			<initiative-node [node]="node" [datasetId]="datasetId" (map)="mapData($event)" (update)="updateTreeModel($event)"></initiative-node>
		</ng-template>
	</Tree>
</div>

<modal #initiativeModal [keyboard]="true" [backdrop]="true">
	<modal-header [show-close]="false">
		<h4 class="modal-title">{{openedNode?.name}}</h4>
	</modal-header>
	<modal-body>
		<initiative #initiative [node]="openedNode" [parent]="openedNodeParent" (edited)="saveChanges()"></initiative>
	</modal-body>
	<modal-footer>
		<button type="button" class="btn btn-primary" (click)="modal.close()">Save</button>
	</modal-footer>
</modal>