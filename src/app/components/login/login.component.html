<div class="mt-3">

    <h2 *ngIf="!isLoggingIn">Almost there ! Set up a password to finish setting up your profile.</h2>
    <h2 *ngIf="isLoggingIn" class="ml-3">Log in to Maptio</h2>
    <br>
    <div class="alert alert-danger" role="alert" *ngIf="loginErrorMessage">
        {{loginErrorMessage}}
    </div>
    <div class="form-group col-lg-4">
        <div class="form-group" [class.has-danger]="inputEmail.invalid && (inputEmail.dirty || inputEmail.touched)">
            <label for="inputEmail">Email</label>
            <input type="email" id="inputEmail" name="inputEmail" class="form-control form-control-warning form-control-lg" required
                [(ngModel)]="email" #inputEmail="ngModel" [class.disabled]="!isLoggingIn" placeholder="e.g. clark.kent@dailyplanet.com">

        </div>
        <div class="form-group" [class.has-danger]="inputPassword.invalid && (inputPassword.dirty || inputPassword.touched)">
            <label for="inputPassword">Password</label>
            <input type="password" id="inputPassword" name="inputPassword" class="form-control form-control-warning form-control-lg"
                required [(ngModel)]="password" #inputPassword="ngModel" placeholder="e.g. ••••••••" (input)="passwordChange()">
            <div class="form-control-feedback" *ngIf="(inputPassword.invalid && (inputPassword.dirty || inputPassword.touched)) || isPasswordEmpty">Required</div>

        </div>
        <div *ngIf="!isLoggingIn" class="form-check" [class.has-danger]="inputTC.errors?.required && (inputTC.dirty || inputTC.touched)">
            <label class="form-check-label">
                  <input type="checkbox" id="inputTC" name="inputTC" class="form-check-input" required [(ngModel)]="isTermsAccepted"
                  #inputTC="ngModel">
                  I accept Maptio's <a href="#">Terms and Conditions</a> 
                  
                </label>
        </div>
        <button *ngIf="!isLoggingIn" (click)="activateAccount()" class="btn btn-success btn-lg" [class.disabled]="inputPassword.invalid || inputTC.errors?.required">Log in</button>
        <button *ngIf="isLoggingIn" (click)="login()" class="btn btn-success btn-lg" [class.disabled]="inputEmail.invalid || isPasswordEmpty">Log in</button>
        
        <p class="mt-2">Forgot your password ? <a routerLink="/forgot">Reset it</a></p>

    </div>

    <a *ngIf="!isLoggingIn" routerLink="/login"><small>Not your account?</small></a>



</div>