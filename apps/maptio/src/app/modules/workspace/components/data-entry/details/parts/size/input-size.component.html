<ng-template #editTipContent>
  You don't have permission to edit this.
  <a href="{{ KB_URL_PERMISSIONS }}" target="blank">Learn more.</a>
</ng-template>

<div class="input-size d-flex flex-column">
  <div
    class="input-size__label d-flex align-items-baseline justify-content-start"
  >
    <span class="d-flex align-items-baseline text-gray-light mr-1">
      <i class="fas fa-ruler-combined mr-1"></i>
      <span class="text-uppercase text-bold small">Circle size adjustment</span>
    </span>

    <span
      *ngIf="isUnauthorized"
      class="text-gray-light small"
      [stickyPopover]="editTipContent"
      placement="right"
    >
      <i class="fas fa-lock"></i>
    </span>
  </div>

  <div class="w-100 bg-light p-2 rounded d-flex flex-row">
    <button
      *ngIf="!isUnauthorized"
      class="input-size__button btn btn-outline-secondary"
      (click)="onDecrease()"
    >
      <i class="fas fa-minus"></i>
    </button>

    <div class="input-size__input-wrapper w-100">
      <input
        type="number"
        [readonly]="isUnauthorized"
        [value]="size || 'Default'"
        (change)="onEdit($event.target.value)"
        class="input-size__input form-control bg-light"
      />

      <span class="input-size__default-value-placeholder" *ngIf="!size">
        Default size
      </span>
    </div>

    <button
      *ngIf="!isUnauthorized"
      class="input-size__button btn btn-outline-secondary"
      (click)="onIncrease()"
    >
      <i class="fas fa-plus"></i>
    </button>

    <button
      *ngIf="!isUnauthorized"
      class="input-size__button btn btn-outline-secondary"
      mwlConfirmationPopover
      [popoverMessage]="'Reset to default size?'"
      placement="top"
      container="body"
      focusbutton="cancel"
      appendToBody="false"
      (confirm)="onReset()"
      (cancel)="cancelClicked = true"
    >
      <i class="fas fa-undo"></i>
    </button>
  </div>
</div>
