<ng-template #rt let-result="result" let-term="term">
  @if (!result.shortid && !term) {
    <span>
      <ng-container i18n="@@createNewRole">Create new role</ng-container>
    </span>
  }

  @if (!result.shortid && term) {
    <span>
      {{ term }}
      <span>(</span>
      <ng-container i18n="@@createNewRole">Create new role</ng-container>
      <span>)</span>
    </span>
  }

  @if (result.shortid) {
    <span>{{ result.title }}</span>
  }
</ng-template>

<common-autocomplete
  class="d-block mt-2 mb-3"
  placeholder="Start typing the title of a role"
  i18n-placeholder
  [resultTemplate]="rt"
  [showSelectedResult]="false"
  [showCancelButton]="false"
  [filter]="filterRoles"
  (pick)="onAddingRole($event)"
></common-autocomplete>
